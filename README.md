# ğŸ“± Twitch Mobile Automation Testing

Automated UI test suite for the **Twitch mobile website** using **Selenium**, **pytest**, and **Allure Reports**, with **mobile emulation** for devices like Pixel 2 and iPhone 12 Pro.

This test validates that users can search for a game (e.g., _StarCraft II_) and successfully play one of the resulting videos â€” simulating real mobile user behavior.

---

## ğŸ¥ Test in Action

> _ğŸ‘‡ The test runs locally with mobile emulation:_
  
![Test Run](./assets/twitch_run.gif)

---

## ğŸš€ How to Run the Tests

### ğŸ“¦ Prerequisites

- Python 3.8+
- Google Chrome installed
- [ChromeDriver](https://sites.google.com/a/chromium.org/chromedriver/) compatible with your Chrome version
- [Allure Commandline](https://docs.qameta.io/allure/#_installing_a_commandline)

### ğŸ›  Installation

1. **Clone the repository**:

```bash
git clone https://github.com/your-username/twitch-mobile-tests.git
cd twitch-mobile-tests
```

2. **Create a virtual environment** (optional but recommended):

```bash
python -m venv venv
source venv/bin/activate  # or `venv\Scripts\activate` on Windows
```

3. **Install dependencies**:

```bash
pip install -r requirements.txt
```

### â–¶ï¸ Run the Tests

```bash
pytest --alluredir=allure-results
```

### ğŸ“Š View Allure Report

```bash
allure serve allure-results
```

This will open a browser window with the rich Allure UI.
---
### ğŸ–¼ï¸ Allure Report Example

Below is an example of a detailed Allure report generated by the test suite.

âœ… Each test run is clearly **parameterized by device** (`Pixel 2`, `iPhone 12 Pro`)  
âœ… Steps are automatically **annotated using `allure.step()`** for readable test flow  
âœ… A **device-specific screenshot** is saved and attached as an Allure artifact  
âœ… Test execution time for each step is captured and displayed  
âœ… The report is fully compatible with CI pipelines or local runs

![Allure Report Example](./assets/Allure_reporting.png)

---

## âš™ï¸ Optional: Run in Headless Mode

To speed up test execution or run tests in environments without a GUI (e.g., CI pipelines), you can enable **headless mode** for Chrome by uncommenting the following line in `conftest.py`:

```python
# chrome_options.add_argument("--headless=new")
```

> ğŸ’¡ `--headless=new` uses Chromeâ€™s newer, more stable headless mode introduced in recent versions.  
> ğŸ“Œ Note: Visual elements like screenshots may differ slightly from non-headless mode.

---

## ğŸ§± Project Structure

```
twitch-mobile-tests/
â”‚
â”œâ”€â”€ conftest.py                  # Fixtures for driver & page objects
â”œâ”€â”€ requirements.txt             # Python dependencies
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_twitch_video.py     # Main test scenario
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ base_page.py             # Shared utilities for all pages
â”‚   â”œâ”€â”€ main_page.py             # Handles search functionality
â”‚   â”œâ”€â”€ result_page.py           # Handles video result interaction
â”‚   â””â”€â”€ opened_video_page.py     # Verifies that video is playing
â”‚
â”œâ”€â”€ twitch_locators.py           # Centralized element locators
â”œâ”€â”€ screenshots/                 # Auto-generated screenshots (ignored in Git)
â””â”€â”€ assets/                      # Static media (e.g., GIF used in README)
    â””â”€â”€ twitch_run.gif
```

ğŸ“ _Note: Screenshots are saved per device (e.g., `video_loaded_pixel_2.png`) and attached to Allure reports._  
ğŸ–¼ï¸ _The `assets/` folder stores static visuals like the demo GIF used in the README._

---

## ğŸ“‹ Test Scenario Overview

This test uses `@pytest.mark.parametrize` to run the same flow on **multiple mobile devices**:  
ğŸ“± `Pixel 2` and ğŸ“± `iPhone 12 Pro`

1. **Open** the Twitch mobile homepage  
2. **Search** for the game _"StarCraft II"_  
3. **Scroll** through the results  
4. **Click** on an available video result  
5. **Handle** the mature content warning if shown  
6. **Verify** that the video player is visible  
7. **Capture** and attach a **device-specific** screenshot to the Allure report  

---

## ğŸ›  Tech Stack

- ğŸ **Python** + `pytest`  
- ğŸŒ **Selenium** WebDriver with mobile emulation  
- ğŸ“± **Chrome DevTools** emulation for Pixel 2 & iPhone 12 Pro  
- ğŸ“Š **Allure Reports** for rich, step-by-step test documentation  

---

## ğŸ“„ Notes

ğŸ“ _The `screenshots/` folder is auto-created and should be added to `.gitignore` to avoid cluttering the repository._

